/* Orders.css — ECOv · طلبات الشراء الواردة — Premium Redesign */
@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&family=DM+Serif+Display:ital@0;1&family=Space+Mono:wght@400;700&display=swap');

:root {
  --bg:         #f0f7f1;
  --surface:    #ffffff;
  --surface2:   #f5fbf6;
  --surface3:   #eef7ef;
  --border:     rgba(0,0,0,0.07);
  --border2:    rgba(0,0,0,0.12);
  --green:      #16a34a;
  --green-dk:   #15803d;
  --green-lt:   rgba(22,163,74,0.1);
  --green-glow: rgba(22,163,74,0.22);
  --txt:        #0d1f0f;
  --txt2:       #2d5435;
  --txt3:       #5a8a62;
  --txt4:       #8ab890;
  --shadow:     rgba(0,60,20,0.07);
  --shadow-md:  rgba(0,60,20,0.12);
  --shadow-lg:  rgba(0,60,20,0.18);
  --red:        #dc2626;
  --red-lt:     rgba(220,38,38,0.08);
  --blue:       #2563eb;
  --blue-lt:    rgba(37,99,235,0.08);
  --amber:      #d97706;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

::-webkit-scrollbar { width: 4px; height: 4px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: var(--border2); border-radius: 99px; }
::-webkit-scrollbar-thumb:hover { background: var(--green); }

@keyframes fadeUp   { from { opacity:0; transform:translateY(16px); } to { opacity:1; transform:none; } }
@keyframes float    { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }
@keyframes pulse    { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.4;transform:scale(.8)} }
@keyframes blobMove { 0%,100%{transform:scale(1) rotate(0)} 40%{transform:scale(1.07) rotate(3deg)} 70%{transform:scale(.95) rotate(-2deg)} }
@keyframes spin     { to{transform:rotate(360deg)} }
@keyframes badgePop { 0%{transform:scale(0.7);opacity:0} 70%{transform:scale(1.1)} 100%{transform:scale(1);opacity:1} }

/* ── Page ── */
.orders-page {
  font-family: 'Tajawal', system-ui, sans-serif;
  background: var(--bg);
  min-height: 100vh;
  padding: 36px 40px 80px;
  color: var(--txt);
  position: relative;
  overflow-x: hidden;
}
.orders-page::before,
.orders-page::after {
  content: '';
  position: fixed;
  border-radius: 50%;
  filter: blur(90px);
  pointer-events: none;
  z-index: 0;
  animation: blobMove 16s ease-in-out infinite;
}
.orders-page::before {
  width: 480px; height: 480px;
  background: rgba(22,163,74,0.09);
  top: -140px; left: -100px;
}
.orders-page::after {
  width: 340px; height: 340px;
  background: rgba(37,99,235,0.06);
  bottom: 80px; right: -60px;
  animation-delay: -7s;
}

/* ── Header ── */
.op-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 20px;
  margin-bottom: 32px;
  position: relative;
  z-index: 1;
  animation: fadeUp .5s cubic-bezier(0.16,1,0.3,1) both;
  flex-wrap: wrap;
}
.op-header-left { display: flex; align-items: center; gap: 18px; }

.op-eyebrow {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--green-lt);
  border: 1px solid rgba(22,163,74,0.2);
  border-radius: 40px;
  padding: 4px 13px;
  font-size: 10px;
  font-weight: 800;
  color: var(--green);
  letter-spacing: 1.2px;
  text-transform: uppercase;
  margin-bottom: 10px;
}

.op-header-text h1 {
  font-family: 'DM Serif Display', serif;
  font-size: 38px;
  font-weight: 400;
  color: var(--txt);
  letter-spacing: -0.8px;
  line-height: 1.1;
  margin-bottom: 8px;
}
.op-header-text h1 em { color: var(--green); font-style: italic; }
.op-header-text p { font-size: 13px; color: var(--txt3); line-height: 1.5; }

/* Orb */
.op-header-orb {
  position: relative;
  width: 88px; height: 88px;
  flex-shrink: 0;
  animation: float 5s ease-in-out infinite;
}
.op-orb-glow {
  position: absolute;
  inset: -16px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(22,163,74,0.25) 0%, transparent 70%);
  animation: pulse 3s ease-in-out infinite;
}
.op-orb-core {
  position: absolute;
  inset: 10px;
  border-radius: 50%;
  background: linear-gradient(135deg, #15803d, #16a34a, #22c55e);
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 10px 36px rgba(22,163,74,0.4), inset 0 0 0 1px rgba(255,255,255,0.2);
}
.op-orb-ring {
  position: absolute;
  border-radius: 50%;
  border: 1px solid rgba(22,163,74,0.18);
  top: 50%; left: 50%;
  transform: translate(-50%,-50%);
}
.op-orb-ring.r1 { width: 80px; height: 80px; animation: spin 9s linear infinite; }
.op-orb-ring.r2 { width: 100px; height: 100px; border-style: dashed; border-color: rgba(22,163,74,0.1); animation: spin 16s linear infinite reverse; }

/* ── Stats bar ── */
.op-stats-bar {
  display: flex;
  align-items: stretch;
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 2px 12px var(--shadow);
  flex-shrink: 0;
}
.op-stat-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 16px 28px;
  gap: 4px;
  transition: background .2s;
  cursor: default;
}
.op-stat-item:hover { background: var(--surface2); }
.op-stat-divider { width: 1px; background: var(--border); }
.op-stat-num {
  font-family: 'DM Serif Display', serif;
  font-size: 28px;
  line-height: 1;
}
.op-stat-lbl {
  font-size: 10px;
  font-weight: 800;
  color: var(--txt4);
  text-transform: uppercase;
  letter-spacing: 1px;
}

/* ── Toolbar ── */
.op-toolbar {
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
  margin-bottom: 28px;
  position: relative;
  z-index: 1;
  animation: fadeUp .5s .07s cubic-bezier(0.16,1,0.3,1) both;
}
.op-search-wrap {
  position: relative;
  flex: 1;
  min-width: 220px;
  max-width: 380px;
}
.op-search-icon {
  position: absolute;
  right: 16px; top: 50%;
  transform: translateY(-50%);
  color: var(--txt4);
  pointer-events: none;
}
.op-search {
  width: 100%;
  padding: 13px 46px 13px 18px;
  background: var(--surface);
  border: 1.5px solid var(--border2);
  border-radius: 50px;
  font-family: 'Tajawal', sans-serif;
  font-size: 13px;
  color: var(--txt);
  outline: none;
  transition: all .25s;
  box-shadow: 0 2px 8px var(--shadow);
  direction: rtl;
}
.op-search::placeholder { color: var(--txt4); }
.op-search:focus {
  border-color: var(--green);
  box-shadow: 0 0 0 4px var(--green-lt), 0 4px 16px var(--shadow);
  background: var(--surface2);
}
.op-filters { display: flex; gap: 8px; flex-wrap: wrap; }
.op-filter-btn {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  padding: 10px 18px;
  border-radius: 50px;
  font-weight: 700;
  font-size: 13px;
  border: 1.5px solid var(--border2);
  background: var(--surface);
  color: var(--txt3);
  cursor: pointer;
  transition: all .25s cubic-bezier(0.16,1,0.3,1);
  font-family: 'Tajawal', sans-serif;
  box-shadow: 0 1px 4px var(--shadow);
}
.op-filter-btn:hover { border-color: var(--green); color: var(--green); background: var(--green-lt); transform: translateY(-1px); }
.op-filter-btn.active { background: var(--green); border-color: var(--green); color: #fff; box-shadow: 0 4px 16px var(--green-glow); transform: translateY(-1px); }
.op-filter-count { background: rgba(255,255,255,0.25); padding: 1px 8px; border-radius: 99px; font-size: 11px; font-weight: 800; }
.op-filter-btn:not(.active) .op-filter-count { background: rgba(0,0,0,0.06); color: var(--txt4); }

/* ── Grid ── */
.op-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(360px, 1fr));
  gap: 20px;
  position: relative;
  z-index: 1;
  animation: fadeUp .5s .12s cubic-bezier(0.16,1,0.3,1) both;
}

/* ── Card ── */
.op-card {
  background: var(--surface);
  border-radius: 26px;
  border: 1px solid var(--border);
  padding: 24px;
  box-shadow: 0 2px 14px var(--shadow);
  transition: transform .3s cubic-bezier(0.16,1,0.3,1), box-shadow .3s, border-color .3s;
  position: relative;
  overflow: hidden;
}
.op-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--green), transparent);
  opacity: 0;
  transition: opacity .35s;
}
.op-card:hover { transform: translateY(-5px); box-shadow: 0 20px 50px var(--shadow-lg); border-color: rgba(22,163,74,0.18); }
.op-card:hover::before { opacity: 1; }
.op-card.is-new {
  background: linear-gradient(150deg, #ffffff 60%, #f0fbf3);
  border-color: rgba(22,163,74,0.13);
}
.op-card.is-new::after {
  content: '';
  position: absolute;
  top: -30px; right: -30px;
  width: 100px; height: 100px;
  border-radius: 50%;
  background: radial-gradient(circle, rgba(22,163,74,0.1) 0%, transparent 70%);
  pointer-events: none;
}

/* ── Card Top ── */
.op-card-top {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 16px;
}

/* badge على اليسار، factory-info يأخذ باقي المساحة ويضع الصورة في أقصى اليمين */
.op-factory-info {
  display: flex;
  align-items: center;
  justify-content: flex-end;   /* يبدأ من اليمين في RTL */
  gap: 13px;
  flex: 1;
  min-width: 0;
}
.op-factory-info > div:first-child {
  text-align: right;
  flex: 1;
  min-width: 0;
}
.op-factory-avatar {
  width: 52px; height: 52px;
  border-radius: 16px;
  overflow: hidden;
  border: 2px solid var(--border);
  box-shadow: 0 4px 12px var(--shadow-md);
  flex-shrink: 0;
  transition: transform .3s;
}
.op-card:hover .op-factory-avatar { transform: scale(1.06) rotate(2deg); }
.op-factory-avatar img { width: 100%; height: 100%; object-fit: cover; display: block; }
.op-factory-name { font-size: 15px; font-weight: 800; color: var(--txt); margin-bottom: 6px; line-height: 1.2; }
.op-factory-meta { display: flex; align-items: center; justify-content: flex-end; gap: 5px; font-size: 11px; color: var(--txt3); flex-wrap: wrap; }
.op-factory-meta strong { color: var(--txt2); font-weight: 700; }
.op-meta-dot { color: var(--txt4); }

.op-status-badge {
  padding: 5px 13px;
  border-radius: 40px;
  font-size: 11px;
  font-weight: 800;
  white-space: nowrap;
  flex-shrink: 0;
  letter-spacing: 0.3px;
  animation: badgePop .4s cubic-bezier(0.16,1,0.3,1) both;
}

/* ── Quote msg ── */
.op-msg {
  position: relative;
  font-size: 13px;
  color: var(--txt2);
  background: var(--surface2);
  border-radius: 16px;
  padding: 13px 16px 13px 20px;
  margin-bottom: 16px;
  line-height: 1.75;
  border: 1px solid var(--border);
  font-style: italic;
  overflow: hidden;
}
.op-msg::before {
  content: '';
  position: absolute;
  right: 0; top: 0; bottom: 0;
  width: 3px;
  border-radius: 0 16px 16px 0;
}
.op-msg-quote {
  position: absolute;
  top: 6px; left: 10px;
  font-family: 'DM Serif Display', serif;
  font-size: 40px;
  line-height: 1;
  pointer-events: none;
  user-select: none;
  opacity: 0.12;
}

/* ── Chips ── */
.op-chips {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 18px;
}
.op-chip {
  background: var(--surface3);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 11px 14px;
  transition: all .2s;
}
.op-chip:hover { border-color: rgba(22,163,74,0.25); background: var(--green-lt); }
.op-chip-lbl { font-size: 9px; color: var(--txt4); font-weight: 800; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 5px; }
.op-chip-val { font-size: 14px; font-weight: 800; display: flex; align-items: center; gap: 6px; line-height: 1; }
.op-chip-dot { width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0; }

/* ── Actions ── */
.op-actions { display: flex; gap: 9px; flex-wrap: wrap; align-items: center; }

.op-btn-accept {
  display: inline-flex;
  align-items: center;
  gap: 7px;
  padding: 11px 22px;
  background: var(--green);
  color: white;
  border: none;
  border-radius: 50px;
  font-size: 13px;
  font-weight: 800;
  cursor: pointer;
  font-family: 'Tajawal', sans-serif;
  transition: all .25s cubic-bezier(0.16,1,0.3,1);
  box-shadow: 0 4px 16px var(--green-glow);
}
.op-btn-accept:hover { background: var(--green-dk); transform: translateY(-2px); box-shadow: 0 8px 24px rgba(22,163,74,0.4); }

.op-btn-reject {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 11px 18px;
  background: var(--red-lt);
  color: var(--red);
  border: 1.5px solid rgba(220,38,38,0.2);
  border-radius: 50px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  font-family: 'Tajawal', sans-serif;
  transition: all .2s;
}
.op-btn-reject:hover { background: rgba(220,38,38,0.14); border-color: var(--red); transform: translateY(-1px); }

.op-btn-contact {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 11px 18px;
  background: var(--blue-lt);
  color: var(--blue);
  border: 1.5px solid rgba(37,99,235,0.2);
  border-radius: 50px;
  font-size: 13px;
  font-weight: 700;
  cursor: pointer;
  font-family: 'Tajawal', sans-serif;
  transition: all .2s;
  margin-right: auto;
}
.op-btn-contact:hover { background: rgba(37,99,235,0.14); border-color: var(--blue); transform: translateY(-1px); }

/* ── Empty ── */
.op-empty {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 16px;
  min-height: 320px;
  color: var(--txt4);
  font-size: 15px;
  font-weight: 700;
  position: relative;
  z-index: 1;
}
.op-empty-icon {
  width: 80px; height: 80px;
  border-radius: 50%;
  background: var(--surface);
  border: 1px solid var(--border2);
  display: flex; align-items: center; justify-content: center;
  box-shadow: 0 4px 16px var(--shadow);
}

/* ── Responsive ── */
@media (max-width: 1100px) { .op-grid { grid-template-columns: repeat(2,1fr); } }
@media (max-width: 900px)  { .op-stats-bar { display: none; } }
@media (max-width: 768px) {
  .orders-page { padding: 20px 16px 60px; }
  .op-header-text h1 { font-size: 28px; }
  .op-grid { grid-template-columns: 1fr; }
  .op-toolbar { flex-direction: column; align-items: stretch; }
  .op-search-wrap { max-width: 100%; }
  .op-header-orb { display: none; }
}
@media (max-width: 480px) {
  .op-chips { grid-template-columns: 1fr; }
  .op-actions { flex-direction: column; }
  .op-actions button { width: 100%; justify-content: center; }
}